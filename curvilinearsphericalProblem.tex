%
% Copyright Â© 2018 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
%{
\makeproblem{Spherical volume Jacobian.}{problem:curvilinearspherical:1}{
Without software, expand and simplify the determinant of \cref{eqn:curvilinearspherical:320}.
} % problem
\makeanswer{problem:curvilinearspherical:1}{
A bit of shorthand is useful.  We can write our Jacobian as
\begin{equation}\label{eqn:curvilinearsphericalProblem:20}
J
=
\begin{vmatrix}
S_\theta C_\phi & S_\theta S_\phi & C_\theta \\
r C_\theta C_\phi & r C_\theta S_\phi & - r S_\theta \\
- r S_\theta S_\phi & r S_\theta C_\phi & 0
\end{vmatrix}
=
r^2 \begin{vmatrix}
S_\theta C_\phi & S_\theta S_\phi & C_\theta \\
 C_\theta C_\phi &  C_\theta S_\phi & -  S_\theta \\
-  S_\theta S_\phi &  S_\theta C_\phi & 0
\end{vmatrix},
\end{equation}
where the common factor of the two last rows has been factored out.  Expanding the cofactors along the bottom row we have
\begin{equation}\label{eqn:curvilinearsphericalProblem:40}
\begin{aligned}
J
&=
-  r^2 S_\theta S_\phi
\begin{vmatrix}
S_\theta S_\phi & C_\theta \\
C_\theta S_\phi & -  S_\theta \\
\end{vmatrix}
-  r^2 S_\theta C_\phi
\begin{vmatrix}
S_\theta C_\phi & C_\theta \\
 C_\theta C_\phi &  -  S_\theta \\
\end{vmatrix} \\
&=
- r^2 S_\theta S_\phi^2
\begin{vmatrix}
S_\theta & C_\theta \\
C_\theta & -  S_\theta \\
\end{vmatrix}
-  r^2 S_\theta C_\phi^2
\begin{vmatrix}
S_\theta C_\theta \\
 C_\theta &  -  S_\theta \\
\end{vmatrix} \\
&=
- r^2 S_\theta S_\phi^2 \lr{ - S_\theta^2 - C_\theta^2 }
-  r^2 S_\theta C_\phi^2 \lr{ -S_\theta^2 - C_\theta^2 } \\
&=
r^2 S_\theta \lr{ S_\phi^2 + C_\phi^2 } \\
&=
r^2 S_\theta.
\end{aligned}
\end{equation}
Had we done a traditional first row or column determinant expansion, things would have been considerably messier.
} % problem
\makeproblem{Spherical polar coordinates.}{problem:curvilinearspherical:2}{
Starting with
\begin{equation*}
\Bx = r \lr{ \Be_1 \sin\theta \cos\phi + \Be_2 \sin\theta \sin\phi + \Be_3 \cos\theta },
\end{equation*}
first factor out \( \Be_1 \) from the \( \sin\theta \) terms, and group the remaining factors into complex exponential form.  Then factor our \( \Be_3 \) from both remaining terms to factor out a \( \phi \) dependent unit bivector, and put the entire expression into complex exponential form.  Hint: \( \Be_2 = \Be_1 \Be_1 \Be_2 \).
} % problem
\makeanswer{problem:curvilinearspherical:2}{
\begin{equation}\label{eqn:curvilinearspherical:20}
\begin{aligned}
\Bx
&= r \lr{ \Be_1 \sin\theta \cos\phi + \Be_2 \sin\theta \sin\phi + \Be_3 \cos\theta } \\
&= r \lr{ \sin\theta \Be_1 (\cos\phi + \Be_{12} \sin\phi ) + \Be_3 \cos\theta } \\
&= r \lr{ \sin\theta \Be_1 e^{\Be_{12} \phi } + \Be_3 \cos\theta } \\
&= r \Be_3 \lr{ \cos\theta + \sin\theta \Be_3 \Be_1 e^{\Be_{12} \phi } }.
\end{aligned}
\end{equation}
Writing \( j = \Be_3 \Be_1 e^{\Be_{12} \phi} \), this is
\begin{equation}\label{eqn:curvilinearsphericalProblem:21}
\Bx = r \Be_3 e^{j\theta}.
\end{equation}
} % answer
%}
