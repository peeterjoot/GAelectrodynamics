%
% Copyright Â© 2017 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
%\index{cylindrical coordinates}
%{
\index{polar coordinates}
%\index{curvilinear coordinates}
\index{curvilinear bases}
We will now consider a simple concrete example of a vector parameterization, that of polar coordinates in \R{2}
\begin{equation}\label{eqn:2Dcylindrical:100}
\Bx(\rho, \phi) = \rho \Be_1 \exp\lr{ \Be_{12} \phi },
\end{equation}
as illustrated in
\cref{fig:curvilinearPolar:curvilinearPolarFig1}.
\pmathImageFigure{../figures/GAelectrodynamics/\subfigdir/}{curvilinearPolarFig1}{Polar coordinates.}{fig:curvilinearPolar:curvilinearPolarFig1}{0.2}{curvilinearPolarFig1.nb}

Using this example we will
\begin{itemize}
\item Compute the curvilinear coordinates.  We will refer to these as \( \Bx_\rho, \Bx_\phi \), instead of \( \Bx_1, \Bx_2 \).
\item Find the squared length of \( \Bx_\rho, \Bx_\phi \), and show that they are perpendicular (but not orthonormal.)
\item Perform a first bivector valued integral.
\item Compute the reciprocal frame vectors with geometric arguments.
\item Compute the reciprocal frame explicitly from the gradients of the coordinates.
\item Find the polar form of the gradient with respect to this parameterization.
\end{itemize}
\paragraph{Curvilinear coordinates.}

The curvilinear coordinate basis can be computed directly
\begin{subequations}
\label{eqn:2Dcylindrical:120}
\begin{equation}\label{eqn:2Dcylindrical:140}
\begin{aligned}
\Bx_\rho
&= \PD{\rho}{} \lr{ \rho \Be_1 \exp\lr{ \Be_{12} \phi } } \\
&= \Be_1 \exp\lr{ \Be_{12} \phi }
\end{aligned}
\end{equation}
\begin{equation}\label{eqn:2Dcylindrical:160}
\begin{aligned}
\Bx_\phi
&= \PD{\phi}{} \lr{ \rho \Be_1 \exp\lr{ \Be_{12} \phi } } \\
&= \rho \Be_1 \Be_{12} \exp\lr{ \Be_{12} \phi } \\
&= \rho \Be_2 \exp\lr{ \Be_{12} \phi }.
\end{aligned}
\end{equation}
\end{subequations}
For plane configurations, it is often handy to represent the plane pseudoscalar with an imaginary symbol.  Here we will use \( i = \Be_{12} \), allowing for the compact representations \( \Bx_\rho = \Be_1 e^{i \phi} \) and \( \Bx_\phi = \rho \Be_2 e^{i \phi} \).  This also highlights the geometric interpretation of the basis vectors, as we see that the \( \setlr{ \Bx_\rho, \Bx_\phi } \) basis vectors are constructed by rotating \( \setlr{ \Be_1, \rho \Be_2 } \) by \( \phi \) radians in the direction from \( \Be_1 \) to \( \Be_2 \).
\paragraph{Normality.}
To show that these vectors are
perpendicular, we first compute their product, which we will find has no scalar part.  From
\cref{thm:SimpleProducts2:1780}, property (c), observe that \( \Bx e^{i\phi} = e^{-i\phi} \Bx \) for any vector \( \Bx \) in the plane, so
\begin{equation}\label{eqn:2Dcylindrical:640}
\begin{aligned}
\Bx_\rho \Bx_\phi
&= \lr{ \Be_1 e^{i \phi} } \lr{ \rho \Be_2 e^{i \phi} } \\
&= \rho \Be_1 \Be_2 e^{-i\phi} e^{i \phi} \\
&= \rho \Be_{12}.
\end{aligned}
\end{equation}
Since this has no scalar part \( \Bx_\rho \cdot \Bx_\phi = \gpgradezero{ \Bx_\rho \Bx_\phi } = 0 \).

\paragraph{Length of basis elements.}
We can use scalar selection to find the (squared) length of the vectors, finding
\begin{equation}\label{eqn:2Dcylindrical:680}
\begin{aligned}
\Bx_\rho^2
&= \gpgradezero{ \Be_1 e^{i \phi} \Be_1 e^{i \phi} } \\
&= \gpgradezero{ \Be_1 e^{i \phi} e^{-i\phi} \Be_1 } \\
&= \gpgradezero{ \Be_1^2 } \\
&= 1,
\end{aligned}
\end{equation}
and
\begin{equation}\label{eqn:2Dcylindrical:700}
\begin{aligned}
\Bx_\phi^2
&= \gpgradezero{ \lr{ \rho \Be_2 e^{i \phi} } \lr{ \rho \Be_2 e^{i \phi} } } \\
&= \rho^2 \gpgradezero{ \Be_2 e^{i \phi} e^{-i\phi} \Be_2 } \\
&= \rho^2 \gpgradezero{ \Be_2^2 } \\
&= \rho^2.
\end{aligned}
\end{equation}
\paragraph{A bivector integral.}
One of our goals is to understand the multivector generalization of Stokes' theorem and the divergence theorem, but even before that, we can evaluate some simple multivector integrals.  In particular, we can calculate the (oriented) area of a circle, given a bivector representation of the area element.
\begin{equation}\label{eqn:2Dcylindrical:360}
\begin{aligned}
\int_{\rho=0}^r
\int_{\phi=0}^{2\pi}
 d\Bx_\rho \wedge d\Bx_\phi
 &=
\int_{\rho=0}^r
\int_{\phi=0}^{2\pi}
d\rho d\phi\,
\Bx_\rho \wedge \Bx_\phi \\
&=
\int_{\rho=0}^r
\int_{\phi=0}^{2\pi}
\rho d\rho d\phi \, \Be_{12}
%\int_0^r \rho d\rho \int_0^{2\pi} d\phi \Be_{12}
= \pi r^2 \Be_{12}.
\end{aligned}
\end{equation}

Integrating the bivector area over a circular region gives us the area of that region, but weighted by the \R{2} pseudoscalar.  This is an oriented area.
\paragraph{Reciprocal basis.}
\index{reciprocal basis!polar}
\index{\(\Bx^\rho\)!polar}
\index{\(\Bx^\phi\)!polar}
Because \( \Bx_\rho, \Bx_\phi \) are mutually perpendicular, we have only to rescale them to determine the reciprocal basis, and can do so by inspection
\begin{equation}\label{eqn:2Dcylindrical:180}
\begin{aligned}
   \Bx^\rho &= \Be_1 e^{i \phi} \\
   \Bx^\phi &= \inv{\rho} \Be_2 e^{i\phi}.
\end{aligned}
\end{equation}

\index{Gradient of the coordinates.}
According to \cref{thm:curvilinearGradient:1}
we should be able to find \cref{eqn:2Dcylindrical:180} by computing the gradients of \( \rho \) and \( \phi \) respectively.
If we do so using the \R{2} standard basis representation of the gradient, we must first solve for \( \rho = \rho(x,y), \phi = \phi(x,y) \), inverting
\begin{equation}\label{eqn:2Dcylindrical:620}
\begin{aligned}
x &= \rho \cos\phi \\
y &= \rho \sin\phi.
\end{aligned}
\end{equation}

An implicit solution to this inversion problem is
\begin{equation}\label{eqn:2Dcylindrical:500}
\begin{aligned}
\rho^2 &= x^2 + y^2 \\
\tan\phi &= y/x,
\end{aligned}
\end{equation}
which we can implicitly differentiate to evaluate the components of the desired gradients
\begin{equation}\label{eqn:2Dcylindrical:520}
\begin{aligned}
2 \rho \PD{x}{\rho} &= 2 x \\
2 \rho \PD{y}{\rho} &= 2 y \\
\inv{\cos^2\phi} \PD{x}{\phi} &= -\frac{y}{x^2} \\
\inv{\cos^2\phi} \PD{y}{\phi} &= \inv{x}.
\end{aligned}
\end{equation}

So the gradients are
\begin{subequations}
\label{eqn:2Dcylindrical:540}
\begin{equation}\label{eqn:2Dcylindrical:560}
\begin{aligned}
\spacegrad \rho
&= \lr{ \PDi{x}{\rho}, \PDi{y}{\rho} } \\
&= \lr{ \ifrac{x}{\rho}, \ifrac{y}{\rho} } \\
&= \lr{ \cos\phi, \sin\phi } \\
&= \Be_1 e^{\Be_{12} \phi} \\
&= \Bx^\rho
\end{aligned}
\end{equation}
\begin{equation}\label{eqn:2Dcylindrical:580}
\begin{aligned}
\spacegrad \phi
&= \cos^2 \phi \lr{ -\frac{y}{x^2}, \inv{x} } \\
&= \inv{\rho} ( -\sin\phi, \cos\phi ) \\
&= \frac{\Be_2}{\rho} ( \cos\phi + \Be_{12} \sin\phi ) \\
&= \frac{\Be_2}{\rho} e^{ \Be_{12} \phi } \\
&= \Bx^\phi,
\end{aligned}
\end{equation}
\end{subequations}
which is consistent with \cref{eqn:2Dcylindrical:180}, as expected.
\paragraph{Gradient.}
The polar form of the \R{2} gradient is
\begin{equation}\label{eqn:2Dcylindrical:600}
\begin{aligned}
\spacegrad
&=
\Bx^\rho \PD{\rho}{}
+ \Bx^\phi \PD{\phi}{} \\
&=
\rhocap \PD{\rho}{}
+\inv{\rho} \phicap \PD{\phi}{},
\end{aligned}
\end{equation}
where
\begin{equation}\label{eqn:2Dcylindrical:200}
\begin{aligned}
   \rhocap &= \frac{\Bx_\rho}{\Norm{\Bx_\rho}} = \Bx_\rho = \Be_1 e^{i\phi} = \Bx^\rho \\
   \phicap &= \frac{\Bx_\phi}{\Norm{\Bx_\phi}} = \inv{\rho} \Bx_\phi = \Be_2 e^{i\phi} = \rho \Bx^\phi.
\end{aligned}
\end{equation}

Should we extend this vector space to \R{3}, the parameterization of \cref{eqn:2Dcylindrical:100} covers the subspace of the x-y plane, and for that subspace, the vector derivative is
\begin{equation}\label{eqn:2Dcylindrical:601}
\begin{aligned}
\boldpartial
&=
\Bx^\rho \PD{\rho}{}
+ \Bx^\phi \PD{\phi}{} \\
&=
\rhocap \PD{\rho}{}
+\inv{\rho} \phicap \PD{\phi}{}.
\end{aligned}
\end{equation}

%%Given a vector \( \Bv = \Be_1 f(\rho, \phi) + \Be_2 g(\rho, \phi) \), the cylindrical representation \( \Bv = \Bv_\rho \rhocap + \Bv_\phi \phicap \) can be found by computing the dot products
%%
%%\begin{subequations}
%%\label{eqn:2Dcylindrical:420}
%%\begin{equation}\label{eqn:2Dcylindrical:440}
%%\Bv \cdot \rhocap
%%=
%%\gpgradezero{ (\Be_1 f + \Be_2 g) \Be_1 e^{\Be_{12} \phi} }
%%=
%%f \cos\phi + g \sin\phi
%%\end{equation}
%%\begin{equation}\label{eqn:2Dcylindrical:460}
%%\Bv \cdot \phicap
%%=
%%\gpgradezero{ (\Be_1 f + \Be_2 g) \Be_2 e^{\Be_{12} \phi} }
%%=
%%g \cos\phi - f \sin\phi,
%%\end{equation}
%%\end{subequations}
%%
%%so
%%\begin{equation}\label{eqn:2Dcylindrical:480}
%%\Bv = \lr{ f \cos\phi + g \sin\phi } \rhocap + \lr{ g \cos\phi - f \sin\phi } \phicap.
%%\end{equation}
%}
