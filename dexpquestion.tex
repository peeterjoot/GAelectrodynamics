%{
\makeproblem{Spherical polar exponential deriatives.}{problem:dexpquestion:1}{
Some steps were skipped in the computation of \cref{eqn:curvilinearspherical:140}.  What wasn't really stated, was were were trying to compute
\begin{equation*}
\begin{aligned}
\PD{\phi}{} e^{j\theta}
&= \PD{\phi}{} \lr{ \cos\theta + j \sin\theta} \\
&= \PD{\phi}{j} \sin\theta.
\end{aligned}
\end{equation*}
Perhaps unexpectedly, our exponential derivative has a sine dependence.  One might be tempted to niavely use a chain rule computation
\begin{equation*}
\begin{aligned}
\PD{\phi}{} e^{j\theta}
&= \PD{\phi}{(j\theta)} e^{j\theta} \\
&= \theta \PD{\phi}{j} e^{j\theta},
\end{aligned}
\end{equation*}
but this is not correct.  Using the power series representation of the exponential, show why this second method of computing the exponential derivative is wrong.

Hint: the derivative (with respect to \( \phi \)) \( (j^k)' \ne k j' j^{k-1} \), because \( j j' = -j' j \).
} % problem
\makeanswer{problem:dexpquestion:1}{
From the power series representation of the exponential, we compute
\begin{equation}\label{eqn:dexpquestion:60}
\begin{aligned}
\PD{\phi}{e^{j\theta}}
&= \sum_{k = 0}^\infty \PD{\phi}{} \frac{ (j \theta)^k }{k!} \\
&= \sum_{k = 1}^\infty \PD{\phi}{j^k} \frac{ \theta^k }{k!}.
\end{aligned}
\end{equation}
If you treat \( j \) as a complex number, this then reduces to
\begin{equation}\label{eqn:dexpquestion:80}
\begin{aligned}
\PD{\phi}{e^{j\theta}}
&= \sum_{k = 1}^\infty k \PD{\phi}{j} j^{k-1} \frac{ \theta^k }{k!} \\
&=
\theta \PD{\phi}{j} \sum_{k = 1}^\infty \frac{ (j\theta)^{k-1} }{(k-1)!} \\
&=
\theta \PD{\phi}{j} e^{j\theta}.
\end{aligned}
\end{equation}
But, this is wrong.  The reason that this is wrong is because \( \PDi{\phi}{j} \) does not commute with \( j \), as we can
see by computation.  Let \( j' = \PDi{\phi}{j} \), so that we have
\begin{equation}\label{eqn:dexpquestion:180}
\begin{aligned}
j &= \Be_{31} e^{i\phi} \\
j' &= \Be_{32} e^{i\phi}.
\end{aligned}
\end{equation}
Each of the products is a bivector
\begin{equation}\label{eqn:dexpquestion:200}
\begin{aligned}
j j'
&= \Be_{31} e^{i\phi} \Be_{32} e^{i\phi} \\
&= \Be_{3132} e^{-i\phi} e^{i\phi} \\
&= -\Be_{12},
\end{aligned}
\end{equation}
and
\begin{equation}\label{eqn:dexpquestion:220}
\begin{aligned}
j' j
&= \Be_{32} e^{i\phi} \Be_{31} e^{i\phi} \\
&= \Be_{3231} e^{-i\phi} e^{i\phi} \\
&= \Be_{12},
\end{aligned}
\end{equation}
but find that \( j \) and \( j' \), in this case, anticommute.  That is
\begin{equation}\label{eqn:dexpquestion:240}
j j' = -j' j.
\end{equation}

Because \( j j' \ne j' j \), we cannot write
\begin{equation}\label{eqn:dexpquestion:n}
\PD{\phi}{j^k} = k (\PD{\phi}{j}) j^{k-1},
\end{equation}
but instead have
\begin{equation}\label{eqn:dexpquestion:100}
\PD{\phi}{j^k} = \PD{\phi}{j} j^{k-1} + j \PD{\phi}{j} j^{k-2} + \cdots
\end{equation}
We can use the commuation relations above to compute
\begin{equation}\label{eqn:dexpquestion:260}
\begin{aligned}
\PD{\phi}{j^k}
&= j' j^{k-1} + j j' j^{k-2} + j^2 j' j^{k-3} \cdots \\
&= j' j^{k-1} - j' j^{k-1} + (-1)^2 j' j^{k-1} \cdots
\end{aligned}
\end{equation}
This is zero for any even \( k \) and \( j' j^{k-1} \) for odd \( k \).

Plugging this back into our Taylor series for the derivative (before we messed it up), we find
\begin{equation}\label{eqn:dexpquestion:280}
\begin{aligned}
\PD{\phi}{e^{j\theta}}
&= \sum_{k = 1, k \in \mathrm{odd}}^\infty j' j^{k-1} \frac{ \theta^k }{k!} \\
&= j' \inv{j}
\sum_{k = 1,\, k \in \mathrm{odd}}^\infty \frac{ (j\theta)^k }{k!} \\
&= j' \inv{j} \sinh( j \theta ) \\
&= j' \inv{j} j \sin( \theta ) \\
&= j' \sin( \theta ).
\end{aligned}
\end{equation}
This is exactly the result that we had when we expanded \( e^{j\theta} \) in it's cis form, and then took derivatives, so we have now reconciled the two different approaches.
%Observe that, as a side effect of this exploration, we know also know how to compute the derivative of \( e^{j\theta} \) for the special case where \( j j' = -j' j \).
} % answer
%}
